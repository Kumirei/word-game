@if (isInit) {
    <div class="board">
        <div>
            @for (row of state; track row; let y = $index) {
                <div class="row">
                    @for (cell of row; track cell; let x = $index) {
                        <div
                            #cell
                            class="cell"
                            [attr.data-x]="x"
                            [attr.data-y]="y"
                            [attr.data-state]="cell.state"
                            [style.backgroundColor]="colors[cell.state - 1]"
                            (click)="onCellClick(cell)"
                        >
                            {{ cell.char }}
                        </div>
                    }
                </div>
            }
        </div>
        @if (solved) {
            <div class="copy" title="'Click To Copy'" (click)="copy()">
                @for (row of state; track row; let y = $index) {
                    <div class="row">
                        @for (cell of row; track cell; let x = $index) {
                            <div>
                                {{ emoji[cell.state - 1] }}
                            </div>
                        }
                    </div>
                }
            </div>
        }
        @if (!solved) {
            <div class="inputButtons">
                <button (click)="onDelete()" class="delete">
                    <icon [type]="'backspace'"></icon>
                </button>
                <button (click)="onEnter($event)" class="enter">
                    <icon [type]="'enter'"></icon>
                </button>
            </div>
        }
        @if (solved) {
            <div class="solution">
                @for (word of solution; track word; let last = $last) {
                    <span>
                        <a
                            href="https://www.merriam-webster.com/dictionary/{{
                                word
                            }}"
                            target="_blank"
                            class="dictionaryLink"
                        >
                            {{ word | uppercase }}
                        </a>
                    </span>
                }
            </div>
        }
        @if (!solved) {
            <div class="inputRow">
                <input
                    #wordInput
                    class="guess"
                    [class.active]="!solved"
                    [disabled]="solved"
                    [(ngModel)]="guesses[guesses.length - 1]"
                    (ngModelChange)="onInput($event)"
                    (keydown.enter)="onEnter($event)"
                    (keydown.backspace)="onBackspace($event)"
                    [style.backgroundColor]="
                        solved ? colors[guesses.length - 1] : '#FFF'
                    "
                />
            </div>
        }
        <div class="guesses flex column reverse">
            @for (
                guess of guesses | slice: 0 : (solved ? guesses.length : -1);
                track trackByIndex(i);
                let i = $index
            ) {
                <div
                    [attr.data-state]="i"
                    [style.backgroundColor]="colors[i]"
                    class="guess"
                >
                    @if (!solved) {
                        <span>{{ guess }}</span>
                    }
                    @if (solved) {
                        <a
                            href="https://www.merriam-webster.com/dictionary/{{
                                guess
                            }}"
                            target="_blank"
                            class="dictionaryLink"
                        >
                            {{ guess }}
                        </a>
                    }
                    @if (!solved) {
                        <button class="remove" (click)="removeGuess(i)">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                xmlns:xlink="http://www.w3.org/1999/xlink"
                                fill="#000000"
                                height="15"
                                width="15"
                                version="1.1"
                                id="Capa_1"
                                viewBox="0 0 490 490"
                                xml:space="preserve"
                            >
                                <polygon
                                    points="456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490   489.292,457.678 277.331,245.004 489.292,32.337 "
                                />
                            </svg>
                        </button>
                    }
                </div>
            }
        </div>
    </div>
}
